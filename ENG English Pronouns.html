<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>English Pronouns â€” English with Arabic translations</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    :root{
      --bg:#f6f7fb; --card:#ffffff; --text:#0b1220; --muted:#556; --accent:#1f6feb; --accent-contrast:#fff;
      --border:#e6e9ee; --tile-min:120px; --pad:10px; --word-size:0.98rem; --trans-size:0.82rem;
    }
    /* Dense mode variables */
    .dense {
      --tile-min:90px;
      --pad:8px;
      --word-size:0.86rem;
      --trans-size:0.70rem;
    }

    html,body{margin:0;font-family:system-ui,Segoe UI,Roboto,Arial;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased;}
    .wrap{max-width:1100px;margin:0 auto;padding:12px;}
    header{position:sticky;top:0;background:var(--bg);padding:10px 0;border-bottom:1px solid var(--border);z-index:20;}
    h1{font-size:1.05rem;margin:6px 0;text-align:center;}
    .controls{display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;align-items:center;margin:10px 0;}
    .control{display:flex;gap:8px;align-items:center;background:var(--card);padding:8px;border-radius:8px;border:1px solid var(--border);}
    label{font-size:0.88rem;color:var(--muted);white-space:nowrap;}
    select,input[type="search"]{border:1px solid var(--border);padding:8px;border-radius:6px;background:transparent;font-size:0.95rem;color:var(--text);outline:none;}
    .density-toggle{display:flex;gap:6px;align-items:center;}
    .density-toggle button{padding:6px 10px;border-radius:8px;border:1px solid var(--border);background:transparent;cursor:pointer;}
    main{margin-top:12px;}
    section{margin:14px 0;padding-top:8px;border-top:1px solid var(--border);}
    .category-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;gap:12px;}
    .category-title{font-weight:700;font-size:0.98rem;}
    .chip{background:#eef6ff;padding:6px 10px;border-radius:999px;color:var(--muted);font-size:0.88rem;border:1px solid var(--border);}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(var(--tile-min),1fr));gap:8px;}
    .item{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:var(--pad);display:flex;justify-content:space-between;align-items:center;gap:8px;box-shadow:0 2px 6px rgba(15,20,30,0.04);min-height:56px;}
    .left{display:flex;flex-direction:column;min-width:0;}
    .word{font-weight:700;font-size:var(--word-size);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
    .trans{color:var(--muted);font-size:var(--trans-size);margin-top:4px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;}
    .speak{background:var(--accent);color:var(--accent-contrast);border:none;padding:8px;border-radius:999px;cursor:pointer;min-width:44px;min-height:44px;display:inline-flex;align-items:center;justify-content:center;font-size:1rem;}
    footer{margin:18px 0;color:var(--muted);text-align:center;font-size:0.92rem;}
    @media (max-width:900px){.controls{grid-template-columns:1fr 1fr;}}
    @media (max-width:560px){.controls{grid-template-columns:1fr;} .item{min-height:52px;padding:8px;} .speak{min-width:36px;min-height:36px;font-size:0.95rem;}}
  </style>
</head>
<body>
  <div id="app" class="wrap dense" role="application" aria-label="English pronouns with Arabic translations">
    <header>
      <h1>English Pronouns â€” English with Arabic translations</h1>

      <div class="controls" role="region" aria-label="Controls">
        <!-- Voice / Accent selector -->
        <div class="control" style="min-width:220px;">
          <label for="voiceSelect">Voice / Accent</label>
          <select id="voiceSelect" aria-label="Voice and accent selector" style="margin-left:8px;min-width:160px;">
            <option value="auto">Auto (best available)</option>
          </select>
        </div>

        <!-- Search -->
        <div class="control" style="min-width:320px;">
          <label for="search">Search</label>
          <input id="search" type="search" placeholder="Filter English or Arabic..." aria-label="Search pronouns" />
        </div>

        <!-- Density selector -->
        <div class="control" style="justify-content:flex-end;">
          <div class="density-toggle" aria-hidden="false">
            <label style="font-size:0.88rem;color:var(--muted);">Cards density</label>
            <button id="normalBtn" title="Normal density">Normal</button>
            <button id="denseBtn" title="Dense view">Dense</button>
          </div>
        </div>
      </div>
    </header>

    <main id="categories" aria-live="polite">
      <!-- categories injected here -->
    </main>

    <footer>
      Tip: Click the speaker to hear the English pronunciation. Choose a voice/accent from the selector.
    </footer>
  </div>

  <script>
    // Pronouns dataset (grouped)
    const DATA = {
      "Personal Pronouns â€” Subject": [
        {en:"I", ar:"Ø£Ù†Ø§"}, {en:"you (singular)", ar:"Ø£Ù†Øª"}, {en:"he", ar:"Ù‡Ùˆ"}, {en:"she", ar:"Ù‡ÙŠ"},
        {en:"it", ar:"Ù‡Ùˆ / Ù‡ÙŠ (Ù„ØºÙŠØ± Ø§Ù„Ø¹Ø§Ù‚Ù„)"}, {en:"we", ar:"Ù†Ø­Ù†"}, {en:"you (plural)", ar:"Ø£Ù†ØªÙ… / Ø£Ù†ØªÙ†"}, {en:"they", ar:"Ù‡Ù… / Ù‡Ù†"}
      ],
      "Personal Pronouns â€” Object": [
        {en:"me", ar:"Ø¥ÙŠØ§ÙŠ / Ù„ÙŠ"}, {en:"you (obj)", ar:"Ø¥ÙŠØ§Ùƒ / Ù„Ùƒ"}, {en:"him", ar:"Ø¥ÙŠØ§Ù‡ / Ù„Ù‡"},
        {en:"her", ar:"Ø¥ÙŠØ§Ù‡Ø§ / Ù„Ù‡Ø§"}, {en:"it (obj)", ar:"Ù„Ù‡ / Ù„Ù‡Ø§ (Ù„ØºÙŠØ± Ø§Ù„Ø¹Ø§Ù‚Ù„)"}, {en:"us", ar:"Ø¥ÙŠØ§Ù†Ø§ / Ù„Ù†Ø§"},
        {en:"you (plural obj)", ar:"Ø¥ÙŠØ§ÙƒÙ… / Ù„ÙƒÙ…"}, {en:"them", ar:"Ø¥ÙŠØ§Ù‡Ù… / Ù„Ù‡Ù…"}
      ],
      "Possessive Adjectives (Determiners)": [
        {en:"my", ar:"Ù€ÙŠ / Ù„ÙŠ"}, {en:"your (singular)", ar:"Ù€Ùƒ / Ù„Ùƒ"}, {en:"his", ar:"Ù€Ù‡ / Ù„Ù‡"},
        {en:"her", ar:"Ù€Ù‡Ø§ / Ù„Ù‡Ø§"}, {en:"its", ar:"Ù€Ù‡ / Ù„Ù‡ (Ù„ØºÙŠØ± Ø§Ù„Ø¹Ø§Ù‚Ù„)"}, {en:"our", ar:"Ù€Ù†Ø§ / Ù„Ù†Ø§"},
        {en:"your (plural)", ar:"Ù€ÙƒÙ… / Ù„ÙƒÙ…"}, {en:"their", ar:"Ù€Ù‡Ù… / Ù„Ù‡Ù…"}
      ],
      "Possessive Pronouns": [
        {en:"mine", ar:"Ù„ÙŠ / Ù…Ù„ÙƒÙŠ"}, {en:"yours (singular)", ar:"Ù„Ùƒ / Ù…Ù„ÙƒÙƒ"}, {en:"his", ar:"Ù„Ù‡ / Ù…Ù„ÙƒÙ‡"},
        {en:"hers", ar:"Ù„Ù‡Ø§ / Ù…Ù„ÙƒÙ‡Ø§"}, {en:"ours", ar:"Ù„Ù†Ø§ / Ù…Ù„ÙƒÙ†Ø§"}, {en:"yours (plural)", ar:"Ù„ÙƒÙ… / Ù…Ù„ÙƒÙƒÙ…"},
        {en:"theirs", ar:"Ù„Ù‡Ù… / Ù…Ù„ÙƒÙ‡Ù…"}
      ],
      "Reflexive & Intensive Pronouns": [
        {en:"myself", ar:"Ù†ÙØ³ÙŠ"}, {en:"yourself (singular)", ar:"Ù†ÙØ³Ùƒ"}, {en:"himself", ar:"Ù†ÙØ³Ù‡"},
        {en:"herself", ar:"Ù†ÙØ³Ù‡Ø§"}, {en:"itself", ar:"Ù†ÙØ³Ù‡/Ù†ÙØ³Ù‡Ø§ (Ù„ØºÙŠØ± Ø§Ù„Ø¹Ø§Ù‚Ù„)"}, {en:"ourselves", ar:"Ø£Ù†ÙØ³Ù†Ø§"},
        {en:"yourselves (plural)", ar:"Ø£Ù†ÙØ³ÙƒÙ…"}, {en:"themselves", ar:"Ø£Ù†ÙØ³Ù‡Ù…"}
      ],
      "Demonstrative Pronouns": [
        {en:"this", ar:"Ù‡Ø°Ø§ / Ù‡Ø°Ù‡"}, {en:"that", ar:"Ø°Ù„Ùƒ / ØªÙ„Ùƒ"}, {en:"these", ar:"Ù‡Ø¤Ù„Ø§Ø¡ / Ù‡Ø°Ù‡ (Ø¬Ù…Ø¹)"},
        {en:"those", ar:"Ø£ÙˆÙ„Ø¦Ùƒ / ØªÙ„Ùƒ (Ø¬Ù…Ø¹)"}
      ],
      "Interrogative Pronouns": [
        {en:"who", ar:"Ù…Ù†"}, {en:"whom", ar:"Ù…Ù† (Ù…ÙØ¹ÙˆÙ„)"}, {en:"whose", ar:"Ù„Ù…Ù† / Ù„Ù…Ù† (Ù…Ù„ÙƒÙŠØ©)"},
        {en:"which", ar:"Ø£ÙŠ / Ø£ÙŠÙ‘ÙŒ"}, {en:"what", ar:"Ù…Ø§ / Ù…Ø§Ø°Ø§"}
      ],
      "Relative Pronouns": [
        {en:"who", ar:"Ø§Ù„Ø°ÙŠ / Ø§Ù„ØªÙŠ"}, {en:"whom", ar:"Ø§Ù„Ø°ÙŠ (Ù…ÙØ¹ÙˆÙ„)"}, {en:"whose", ar:"Ø§Ù„Ø°ÙŠ Ù„Ù‡ / Ø§Ù„ØªÙŠ Ù„Ù‡Ø§"},
        {en:"which", ar:"Ø§Ù„Ø°ÙŠ / Ø§Ù„ØªÙŠ (Ù„ØºÙŠØ± Ø§Ù„Ø¹Ø§Ù‚Ù„)"}, {en:"that", ar:"Ø§Ù„Ø°ÙŠ / Ø§Ù„ØªÙŠ"}, {en:"where", ar:"Ø­ÙŠØ« / Ø§Ù„Ø°ÙŠ ÙÙŠÙ‡"}
      ],
      "Indefinite Pronouns (common examples)": [
        {en:"someone", ar:"Ø´Ø®Øµ Ù…Ø§"}, {en:"somebody", ar:"Ø´Ø®Øµ Ù…Ø§"}, {en:"something", ar:"Ø´ÙŠØ¡ Ù…Ø§"},
        {en:"anyone", ar:"Ø£ÙŠ Ø´Ø®Øµ"}, {en:"anybody", ar:"Ø£ÙŠ Ø´Ø®Øµ"}, {en:"anything", ar:"Ø£ÙŠ Ø´ÙŠØ¡"},
        {en:"no one", ar:"Ù„Ø§ Ø£Ø­Ø¯"}, {en:"nobody", ar:"Ù„Ø§ Ø£Ø­Ø¯"}, {en:"nothing", ar:"Ù„Ø§ Ø´ÙŠØ¡"},
        {en:"everyone", ar:"Ø§Ù„Ø¬Ù…ÙŠØ¹"}, {en:"everybody", ar:"Ø§Ù„Ø¬Ù…ÙŠØ¹"}, {en:"everything", ar:"ÙƒÙ„ Ø´ÙŠØ¡"},
        {en:"someone else", ar:"Ø´Ø®Øµ Ø¢Ø®Ø±"}, {en:"anyone else", ar:"Ø£ÙŠ Ø´Ø®Øµ Ø¢Ø®Ø±"}, {en:"no one else", ar:"Ù„Ø§ Ø£Ø­Ø¯ Ø¢Ø®Ø±"}
      ],
      "Reciprocal Pronouns": [
        {en:"each other", ar:"Ø¨Ø¹Ø¶Ù‡Ù… Ø§Ù„Ø¨Ø¹Ø¶"}, {en:"one another", ar:"Ø¨Ø¹Ø¶Ù‡Ù… Ø§Ù„Ø¨Ø¹Ø¶ (Ø£ÙƒØ«Ø± Ù…Ù† Ø§Ø«Ù†ÙŠÙ†)"}
      ],
      "Distributive Pronouns": [
        {en:"each", ar:"ÙƒÙ„ / ÙƒÙ„ ÙˆØ§Ø­Ø¯"}, {en:"either", ar:"Ø£Ø­Ø¯ Ø§Ù„Ø§Ø«Ù†ÙŠÙ†"}, {en:"neither", ar:"Ù„Ø§ Ù‡Ø°Ø§ ÙˆÙ„Ø§ Ø°Ø§Ùƒ"}
      ],
      "Misc / Others": [
        {en:"one (impersonal)", ar:"ÙˆØ§Ø­Ø¯ (Ø¶Ù…ÙŠØ± Ø¹Ø§Ù…)"}, {en:"none", ar:"Ù„Ø§ Ø´ÙŠØ¡ / Ù„Ø§ Ø£Ø­Ø¯"}, {en:"such", ar:"Ù…Ø«Ù„ Ø°Ù„Ùƒ / Ù‡Ø°Ø§ Ø§Ù„Ù†ÙˆØ¹"}
      ]
    };

    // UI elements
    const categoriesEl = document.getElementById('categories');
    const searchEl = document.getElementById('search');
    const voiceSelect = document.getElementById('voiceSelect');
    const normalBtn = document.getElementById('normalBtn');
    const denseBtn = document.getElementById('denseBtn');
    const appEl = document.getElementById('app');

    // Populate voice selector with available voices (and accents)
    function populateVoices() {
      const voices = window.speechSynthesis.getVoices() || [];
      // Clear existing options except 'auto'
      const current = voiceSelect.value;
      voiceSelect.innerHTML = '<option value="auto">Auto (best available)</option>';
      // Group voices by locale for clarity
      const seenLocales = new Set();
      voices.forEach(v => {
        // show common English locales first
        if (!v.lang) return;
        const label = `${v.name} â€” ${v.lang}${v.localService ? ' (local)' : ''}`;
        const opt = document.createElement('option');
        opt.value = v.name + '||' + v.lang;
        opt.textContent = label;
        voiceSelect.appendChild(opt);
        seenLocales.add(v.lang);
      });
      // restore previous selection if possible
      if (current) {
        const found = Array.from(voiceSelect.options).find(o => o.value === current);
        if (found) voiceSelect.value = current;
      }
    }

    // Create item element
    function createItem(obj) {
      const item = document.createElement('div');
      item.className = 'item';
      item.setAttribute('role','listitem');

      const left = document.createElement('div');
      left.className = 'left';

      const w = document.createElement('span');
      w.className = 'word';
      w.textContent = obj.en;

      const t = document.createElement('span');
      t.className = 'trans';
      t.textContent = obj.ar;

      left.appendChild(w);
      left.appendChild(t);

      const btn = document.createElement('button');
      btn.className = 'speak';
      btn.type = 'button';
      btn.setAttribute('aria-label', `Speak ${obj.en}`);
      btn.innerHTML = 'ğŸ”Š';

      btn.addEventListener('click', () => speak(obj.en));

      item.appendChild(left);
      item.appendChild(btn);
      return item;
    }

    // Render categories
    function renderCategories(filterText = '') {
      categoriesEl.innerHTML = '';
      const q = filterText.trim().toLowerCase();

      Object.entries(DATA).forEach(([category, items]) => {
        const filtered = q ? items.filter(it => it.en.toLowerCase().includes(q) || it.ar.includes(q)) : items;
        if (filtered.length === 0) return;

        const section = document.createElement('section');
        section.setAttribute('aria-label', category);

        const header = document.createElement('div');
        header.className = 'category-header';

        const title = document.createElement('div');
        title.className = 'category-title';
        title.textContent = category;

        const chip = document.createElement('div');
        chip.className = 'chip';
        chip.textContent = `${filtered.length} items`;

        header.appendChild(title);
        header.appendChild(chip);

        const grid = document.createElement('div');
        grid.className = 'grid';
        grid.setAttribute('role','list');

        filtered.forEach(obj => grid.appendChild(createItem(obj)));

        section.appendChild(header);
        section.appendChild(grid);
        categoriesEl.appendChild(section);
      });
    }

    // Speak function using selected voice/accent
    function speak(text) {
      if (!('speechSynthesis' in window)) {
        alert('Speech synthesis not supported in this browser.');
        return;
      }
      const utter = new SpeechSynthesisUtterance(text);

      // If user selected a specific voice, try to use it
      const sel = voiceSelect.value;
      if (sel && sel !== 'auto') {
        const [name, lang] = sel.split('||');
        const voices = window.speechSynthesis.getVoices();
        const match = voices.find(v => v.name === name && v.lang === lang) || voices.find(v => v.name === name);
        if (match) utter.voice = match;
        else {
          // fallback: set lang to selected lang if provided
          if (lang) utter.lang = lang;
        }
      } else {
        // Auto: prefer selected accent if available (try en-GB then en-US)
        const voices = window.speechSynthesis.getVoices();
        const preferred = voices.find(v => v.lang === 'en-GB') || voices.find(v => v.lang === 'en-US') || voices.find(v => v.lang.startsWith('en'));
        if (preferred) utter.voice = preferred;
      }

      // Respect accent selector's language if user chose a locale-like option
      if (!utter.voice && voiceSelect.value && voiceSelect.value !== 'auto') {
        const lang = voiceSelect.value.split('||')[1];
        if (lang) utter.lang = lang;
      }

      utter.rate = 0.95;
      utter.pitch = 1.0;

      window.speechSynthesis.cancel();
      window.speechSynthesis.speak(utter);
    }

    // Density controls
    normalBtn.addEventListener('click', () => {
      appEl.classList.remove('dense');
      renderCategories(searchEl.value);
    });
    denseBtn.addEventListener('click', () => {
      appEl.classList.add('dense');
      renderCategories(searchEl.value);
    });

    // Search filter
    searchEl.addEventListener('input', () => renderCategories(searchEl.value));

    // Populate voices when available
    populateVoices();
    window.speechSynthesis.onvoiceschanged = populateVoices;

    // Initial render
    renderCategories();

    // Accessibility: Enter in search focuses first speak button
    searchEl.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') {
        const firstBtn = document.querySelector('.speak');
        if (firstBtn) firstBtn.focus();
      }
    });
  </script>
</body>
</html>
