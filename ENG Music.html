<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Music Vocabulary â€” English with Arabic translations</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="color-scheme" content="light dark" />
  <style>
    :root{
      --bg:#f7f7f9; --card:#fff; --text:#111; --muted:#556; --accent:#1f6feb; --accent-contrast:#fff;
      --border:#e6e9ee; --shadow:0 2px 8px rgba(0,0,0,0.06); --chip:#eef6ff;
      --tile-min:160px; --tile-padding:10px; --word-size:0.98rem; --trans-size:0.86rem; --btn-size:44px;
    }
    @media (prefers-color-scheme:dark){
      :root{
        --bg:#0b0d10; --card:#0f1317; --text:#e6eef8; --muted:#9aa6b2; --accent:#4ea1ff;
        --accent-contrast:#07101a; --border:#1f2429; --shadow:0 2px 8px rgba(0,0,0,0.45); --chip:#12202b;
      }
    }

    /* Dense mode variables */
    .dense {
      --tile-min:120px;
      --tile-padding:8px;
      --word-size:0.92rem;
      --trans-size:0.78rem;
      --btn-size:36px;
    }

    html,body{margin:0;padding:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial; -webkit-font-smoothing:antialiased;}
    .wrap{max-width:1200px;margin:0 auto;padding:12px;}
    header{position:sticky;top:0;background:var(--bg);padding:10px 0;border-bottom:1px solid var(--border);z-index:20;}
    h1{font-size:1.05rem;margin:0 0 8px;text-align:center;}
    .controls{display:grid;grid-template-columns:1fr 1fr 1fr;gap:8px;align-items:center;}
    .control{display:flex;gap:8px;align-items:center;background:var(--card);padding:8px;border-radius:10px;border:1px solid var(--border);box-shadow:var(--shadow);}
    label{font-size:0.88rem;color:var(--muted);white-space:nowrap;}
    select,input[type="search"]{width:100%;padding:8px;border-radius:8px;border:1px solid var(--border);background:transparent;color:var(--text);font-size:0.95rem;outline:none;}
    main{margin-top:12px;}
    .category{margin:12px 0;padding-top:8px;border-top:1px solid var(--border);}
    .category-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;gap:12px;}
    .category-title{font-weight:700;font-size:0.98rem;}
    .chip{background:var(--chip);padding:6px 10px;border-radius:999px;color:var(--muted);font-size:0.88rem;border:1px solid var(--border);}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(var(--tile-min),1fr));gap:8px;}
    .item{background:var(--card);border:1px solid var(--border);border-radius:10px;padding:var(--tile-padding);display:grid;grid-template-columns:1fr auto;align-items:center;gap:6px;box-shadow:var(--shadow);min-height:48px;}
    .word{font-size:var(--word-size);font-weight:600;line-height:1.15;}
    .translation{font-size:var(--trans-size);color:var(--muted);margin-top:4px;display:block;line-height:1.1;}
    .speak-btn{background:var(--accent);color:var(--accent-contrast);border:none;padding:8px 12px;border-radius:999px;font-size:0.9rem;cursor:pointer;min-width:var(--btn-size);min-height:var(--btn-size);display:inline-flex;align-items:center;justify-content:center;gap:6px;box-shadow:var(--shadow);}
    .speak-btn:active{transform:translateY(1px);filter:brightness(0.96);}
    .footer{margin:14px 0 30px;color:var(--muted);text-align:center;font-size:0.92rem;}
    .density-toggle{display:flex;gap:8px;align-items:center;}
    .density-toggle button{padding:6px 10px;border-radius:8px;border:1px solid var(--border);background:var(--card);cursor:pointer;}
    @media (max-width:900px){.controls{grid-template-columns:1fr 1fr;}}
    @media (max-width:560px){.controls{grid-template-columns:1fr;} .grid{gap:6px;} .item{padding:6px;} .word{font-size:0.98rem;} .speak-btn{padding:8px 10px;font-size:0.95rem;}}
  </style>
</head>
<body>
  <div id="app" class="wrap dense" role="application" aria-label="Music vocabulary with Arabic translations and pronunciation">
    <header>
      <h1>Music Vocabulary â€” English with Arabic translations</h1>
      <div class="controls" role="region" aria-label="Controls">
        <div class="control">
          <label for="accent">Accent</label>
          <select id="accent" aria-label="Accent selector">
            <option value="en-GB">British</option>
            <option value="en-US">American</option>
          </select>
        </div>

        <div class="control">
          <label for="search">Search</label>
          <input id="search" type="search" placeholder="Filter terms (English or Arabic)..." aria-label="Search vocabulary" />
        </div>

        <div class="control" style="justify-content:flex-end;">
          <div class="density-toggle" aria-hidden="false">
            <label style="font-size:0.88rem;color:var(--muted);white-space:nowrap;">Density</label>
            <button id="normalBtn" title="Normal density">Normal</button>
            <button id="denseBtn" title="Dense view">Dense</button>
          </div>
        </div>
      </div>
    </header>

    <main id="categories" aria-live="polite">
      <!-- categories injected here -->
    </main>

    <div class="footer">
      Tip: Pronunciations use your device's speech synthesis voices. If a voice is missing, try switching the accent or device.
    </div>
  </div>

  <script>
    const DATA = {
      "Instruments â€” Strings": [
        {en:"violin", ar:"ÙƒÙ…Ø§Ù†"},
        {en:"viola", ar:"ÙÙŠÙˆÙ„Ø§"},
        {en:"cello", ar:"ØªØ´ÙŠÙ„Ùˆ"},
        {en:"double bass", ar:"ÙƒÙˆÙ†ØªØ±Ø§Ø¨Ø§Øµ / Ø¨Ø§Øµ Ù…Ø²Ø¯ÙˆØ¬"},
        {en:"guitar", ar:"Ù‚ÙŠØ«Ø§Ø±Ø© / ØºÙŠØªØ§Ø±"},
        {en:"acoustic guitar", ar:"ØºÙŠØªØ§Ø± ØµÙˆØªÙŠ"},
        {en:"electric guitar", ar:"ØºÙŠØªØ§Ø± ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ"},
        {en:"bass guitar", ar:"ØºÙŠØªØ§Ø± Ø¨Ø§Ø³"},
        {en:"harp", ar:"Ù‚ÙÙŠØ«Ø§Ø±Ø© (Ù‡Ø§Ø±Ø¨)"},
        {en:"mandolin", ar:"Ù…Ø§Ù†Ø¯ÙˆÙ„ÙŠÙ†"},
        {en:"banjo", ar:"Ø¨Ø§Ù†Ø¬Ùˆ"},
        {en:"lute", ar:"Ø¹ÙˆØ¯ (Ù„ÙˆØª)"},
        {en:"sitar", ar:"Ø³ÙŠØªØ§Ø±"},
        {en:"ukulele", ar:"ÙŠÙˆÙƒÙˆÙ„ÙŠÙ„ÙŠ"},
        {en:"zither", ar:"Ø²ÙØ«Ø±"},
        {en:"violin bow", ar:"Ù‚ÙˆØ³ Ø§Ù„ÙƒÙ…Ø§Ù†"},
        {en:"fingerboard", ar:"Ù„ÙˆØ­ Ø§Ù„Ø£ØµØ§Ø¨Ø¹"},
        {en:"bridge (instrument)", ar:"Ø¬Ø³Ø± Ø§Ù„Ø¢Ù„Ø©"},
        {en:"soundhole", ar:"ÙØªØ­Ø© Ø§Ù„ØµÙˆØª"},
        {en:"fret", ar:"ÙØ±ÙŠØª (Ø¯Ø±Ø²)"} 
      ],

      "Instruments â€” Woodwinds": [
        {en:"flute", ar:"ÙÙ„ÙˆØª"},
        {en:"piccolo", ar:"Ø¨ÙŠÙƒÙˆÙ„Ùˆ"},
        {en:"clarinet", ar:"ÙƒÙ„Ø§Ø±ÙŠÙ†ÙŠØª"},
        {en:"oboe", ar:"Ø£ÙˆØ¨ÙˆØ§"},
        {en:"bassoon", ar:"Ø¨Ø§Ø³ÙˆÙ†"},
        {en:"saxophone", ar:"Ø³Ø§ÙƒØ³ÙÙˆÙ†"},
        {en:"recorder", ar:"Ù…Ø³Ø¬Ù„ (Ø±ÙŠÙƒÙˆØ±Ø¯Ø±)"},
        {en:"pan flute", ar:"ÙÙ„ÙˆØª Ø¨Ø§Ù†"},
        {en:"harmonica", ar:"Ù‡Ø§Ø±Ù…ÙˆÙ†ÙŠÙƒØ§"},
        {en:"reed", ar:"Ø±ÙŠÙŠØ¯ (Ù‚ÙŽØµÙŽØ¨)"},
        {en:"mouthpiece", ar:"Ù‚Ø·Ø¹Ø© Ø§Ù„ÙÙ…"},
        {en:"key (instrument)", ar:"Ù…ÙØªØ§Ø­ Ø§Ù„Ø¢Ù„Ø©"},
        {en:"bell (wind)", ar:"Ø¬Ø±Ø³ Ø§Ù„Ø¢Ù„Ø©"},
        {en:"bocal", ar:"Ù‚ÙˆØ³ Ø§Ù„Ø¨Ø§Ø³ÙˆÙ†"},
        {en:"ligature", ar:"Ø±Ø¨Ø§Ø· Ø§Ù„Ù‚ØµØ¨"}
      ],

      "Instruments â€” Brass": [
        {en:"trumpet", ar:"Ø¨ÙˆÙ‚ (ØªØ±ÙˆÙ…Ø¨ÙŠØª)"},
        {en:"trombone", ar:"ØªØ±ÙˆÙ…Ø¨ÙˆÙ†"},
        {en:"French horn", ar:"Ù‡ÙˆØ±Ù† ÙØ±Ù†Ø³ÙŠ"},
        {en:"tuba", ar:"ØªÙˆØ¨Ø§"},
        {en:"cornet", ar:"ÙƒÙˆØ±Ù†ÙŠØª"},
        {en:"euphonium", ar:"ÙŠÙˆÙÙˆÙ†ÙŠÙ…"},
        {en:"mouthpiece (brass)", ar:"Ù‚Ø·Ø¹Ø© Ø§Ù„ÙÙ… (Ù†Ø­Ø§Ø³ÙŠØ©)"},
        {en:"valve", ar:"ØµÙ…Ø§Ù…"},
        {en:"slide", ar:"Ø§Ù†Ø²Ù„Ø§Ù‚ (ØªØ±ÙˆÙ…Ø¨ÙˆÙ†)"},
        {en:"mute", ar:"Ù…ÙŠÙˆØª (Ø¹Ø§Ø²Ù„ ØµÙˆØª)"}
      ],

      "Instruments â€” Percussion": [
        {en:"drum kit", ar:"Ø·Ù‚Ù… Ø·Ø¨ÙˆÙ„"},
        {en:"snare drum", ar:"Ø·Ø¨Ù„Ø© Ø³Ù†ÙŠØ±"},
        {en:"bass drum", ar:"Ø·Ø¨Ù„Ø© Ø¨Ø§Ø³"},
        {en:"tom-tom", ar:"Ø·ÙˆÙ… Ø·ÙˆÙ…"},
        {en:"hi-hat", ar:"Ù‡Ø§ÙŠ Ù‡Ø§Øª"},
        {en:"cymbal", ar:"ØµÙ†Ø¬"},
        {en:"tambourine", ar:"Ø¯Ù"},
        {en:"maracas", ar:"Ù…Ø±Ø§ÙƒØ³"},
        {en:"xylophone", ar:"Ø²ÙŠÙ„ÙˆÙÙˆÙ†"},
        {en:"vibraphone", ar:"ÙÙŠØ¨Ø±Ø§ÙÙˆÙ†"},
        {en:"glockenspiel", ar:"Ø¬Ù„ÙˆÙƒÙŠÙ†Ø´Ø¨ÙŠÙŠÙ„"},
        {en:"triangle", ar:"Ù…Ø«Ù„Ø« (Ø¢Ù„Ø©)"},
        {en:"gong", ar:"Ø¬ÙÙ†Ø¬"},
        {en:"djembe", ar:"Ø¯Ø¬Ù…Ø¨ÙŠ"},
        {en:"conga", ar:"ÙƒÙˆÙ†ØºØ§"},
        {en:"bongo", ar:"Ø¨ÙˆÙ†ØºÙˆ"},
        {en:"timpani", ar:"ØªÙŠÙ…Ø¨Ø§Ù†ÙŠ"},
        {en:"mallet", ar:"Ù…Ø·Ø±Ù‚Ø© (Ù„Ø¢Ù„Ø§Øª Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¹)"},
        {en:"drumstick", ar:"Ø¹ØµØ§ Ø§Ù„Ø·Ø¨Ù„"},
        {en:"beat", ar:"Ø¥ÙŠÙ‚Ø§Ø¹"}
      ],

      "Instruments â€” Keyboards & Plucked": [
        {en:"piano", ar:"Ø¨ÙŠØ§Ù†Ùˆ"},
        {en:"grand piano", ar:"Ø¨ÙŠØ§Ù†Ùˆ ÙƒØ¨ÙŠØ±"},
        {en:"upright piano", ar:"Ø¨ÙŠØ§Ù†Ùˆ Ù‚Ø§Ø¦Ù…"},
        {en:"electric piano", ar:"Ø¨ÙŠØ§Ù†Ùˆ ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ"},
        {en:"organ", ar:"Ø£ÙˆØ±ØºÙ†"},
        {en:"pipe organ", ar:"Ø£ÙˆØ±ØºÙ† Ø£Ù†Ø¨ÙˆØ¨ÙŠ"},
        {en:"synthesizer", ar:"Ø³ÙŠÙ†Ø«Ø³ÙŠØ²Ø±"},
        {en:"keyboard", ar:"ÙƒÙŠØ¨ÙˆØ±Ø¯"},
        {en:"accordion", ar:"Ø£ÙƒÙˆØ±Ø¯ÙŠÙˆÙ†"},
        {en:"harpsichord", ar:"Ù‡Ø§Ø±Ø¨Ø³ÙƒÙˆØ±Ø¯"},
        {en:"clavichord", ar:"ÙƒÙ„Ø§ÙÙƒÙˆØ±Ø¯"},
        {en:"melodica", ar:"Ù…ÙŠÙ„ÙˆØ¯ÙŠÙƒØ§"},
        {en:"keybed", ar:"Ù„ÙˆØ­ Ø§Ù„Ù…ÙØ§ØªÙŠØ­"},
        {en:"pedal (piano)", ar:"Ø¯Ø¹Ø³Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ùˆ"}
      ],

      "Genres & Styles": [
        {en:"classical", ar:"ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ"},
        {en:"baroque", ar:"Ø¨Ø§Ø±ÙˆÙƒ"},
        {en:"romantic", ar:"Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠ"},
        {en:"jazz", ar:"Ø¬Ø§Ø²"},
        {en:"blues", ar:"Ø¨Ù„ÙˆØ²"},
        {en:"rock", ar:"Ø±ÙˆÙƒ"},
        {en:"pop", ar:"Ø¨ÙˆØ¨"},
        {en:"hip hop", ar:"Ù‡ÙŠØ¨ Ù‡ÙˆØ¨"},
        {en:"rap", ar:"Ø±Ø§Ø¨"},
        {en:"electronic", ar:"Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ"},
        {en:"house", ar:"Ù‡Ø§ÙˆØ³"},
        {en:"techno", ar:"ØªÙƒÙ†Ùˆ"},
        {en:"ambient", ar:"Ø£Ù…Ø¨ÙŠÙ†Øª"},
        {en:"folk", ar:"ÙÙˆÙ„Ùƒ"},
        {en:"country", ar:"ÙƒØ§Ù†ØªØ±ÙŠ"},
        {en:"reggae", ar:"Ø±ÙŠØºÙŠ"},
        {en:"metal", ar:"Ù…ÙŠØªØ§Ù„"},
        {en:"punk", ar:"Ø¨Ø§Ù†Ùƒ"},
        {en:"soul", ar:"Ø³ÙˆÙ„"},
        {en:"R&B", ar:"Ø¢Ø± Ø£Ù†Ø¯ Ø¨ÙŠ"}
      ],

      "Notation & Theory": [
        {en:"staff / stave", ar:"Ø§Ù„Ø³Ø·Ø± Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚ÙŠ"},
        {en:"clef", ar:"Ù…ÙØªØ§Ø­ (Ù…ÙˆØ³ÙŠÙ‚ÙŠ)"},
        {en:"treble clef", ar:"Ù…ÙØªØ§Ø­ ØµÙˆÙ„"},
        {en:"bass clef", ar:"Ù…ÙØªØ§Ø­ ÙØ§"},
        {en:"note", ar:"Ù†ØºÙ…Ø© / Ù†ÙˆØªØ©"},
        {en:"rest", ar:"Ø³ÙƒÙˆÙ†"},
        {en:"time signature", ar:"ØªÙˆÙ‚ÙŠØ¹ Ø²Ù…Ù†ÙŠ"},
        {en:"key signature", ar:"ØªÙˆÙ‚ÙŠØ¹ Ù…ÙØªØ§Ø­"},
        {en:"measure / bar", ar:"Ù…Ù‚ÙŠØ§Ø³ / Ø¨Ø§Ø±"},
        {en:"tempo", ar:"Ø¥ÙŠÙ‚Ø§Ø¹ Ø§Ù„Ø³Ø±Ø¹Ø©"},
        {en:"beat", ar:"Ù†Ø¨Ø¶Ø©"},
        {en:"rhythm", ar:"Ø¥ÙŠÙ‚Ø§Ø¹"},
        {en:"melody", ar:"Ù„Ø­Ù†"},
        {en:"harmony", ar:"ØªÙ†Ø§ØºÙ…"},
        {en:"chord", ar:"ÙˆØªØ±"},
        {en:"scale", ar:"Ù…Ù‚ÙŠØ§Ø³"},
        {en:"interval", ar:"ÙØ§ØµÙ„ Ù†ØºÙ…ÙŠ"},
        {en:"mode", ar:"Ø·ÙˆØ± / Ù…ÙˆØ¯"},
        {en:"transpose", ar:"Ù†Ù‚Ù„ Ø§Ù„Ù†ØºÙ…Ø©"},
        {en:"cadence", ar:"ÙƒØ§Ø¯Ù†Ø³"}
      ],

      "Performance & Technique": [
        {en:"vibrato", ar:"ÙÙŠØ¨Ø±Ø§ØªÙˆ"},
        {en:"legato", ar:"Ù„ÙŠØ¬Ø§ØªÙˆ"},
        {en:"staccato", ar:"Ø³ØªÙƒØ§ØªÙˆ"},
        {en:"pizzicato", ar:"Ø¨ÙŠØªØ²ÙƒØ§ØªÙˆ"},
        {en:"arpeggio", ar:"Ø£Ø±Ø¨ÙŠØ¬ÙŠÙˆ"},
        {en:"glissando", ar:"ØºÙ„ÙŠØ³Ø§Ù†Ø¯Ùˆ"},
        {en:"tremolo", ar:"ØªØ±ÙŠÙ…ÙˆÙ„Ùˆ"},
        {en:"trill", ar:"ØªØ±ÙÙ„"},
        {en:"mordent", ar:"Ù…ÙˆØ±Ø¯Ù†Øª"},
        {en:"harmonics", ar:"Ù‡Ø§Ø±Ù…ÙˆÙ†ÙŠÙƒØ³"},
        {en:"breath control", ar:"ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ù†ÙØ³"},
        {en:"bowing", ar:"ØªÙ‚ÙˆØ³ Ø§Ù„Ù‚ÙˆØ³"},
        {en:"fingerstyle", ar:"Ø£Ø³Ù„ÙˆØ¨ Ø§Ù„Ø£ØµØ§Ø¨Ø¹"},
        {en:"strumming", ar:"Ø¹Ø²Ù Ø¨Ø§Ù„Ø±ÙŠØ´Ø©"},
        {en:"dynamics", ar:"Ø¯ÙŠÙ†Ø§Ù…ÙŠÙƒ (Ø´Ø¯Ø© Ø§Ù„ØµÙˆØª)"},
        {en:"articulation", ar:"Ù†Ø·Ù‚/ØªØ´ÙƒÙŠÙ„ Ø§Ù„Ù†ØºÙ…Ø§Øª"},
        {en:"phrasing", ar:"ØªØ´ÙƒÙŠÙ„ Ø§Ù„Ø¹Ø¨Ø§Ø±Ø©"},
        {en:"intonation", ar:"Ø¶Ø¨Ø· Ø§Ù„Ù†ØºÙ…Ø©"},
        {en:"projection", ar:"Ø¥Ø³Ù‚Ø§Ø· Ø§Ù„ØµÙˆØª"},
        {en:"stage presence", ar:"Ø­Ø¶ÙˆØ± Ø§Ù„Ù…Ø³Ø±Ø­"}
      ],

      "Ensembles & Groups": [
        {en:"orchestra", ar:"Ø£ÙˆØ±ÙƒØ³ØªØ±Ø§"},
        {en:"symphony orchestra", ar:"Ø£ÙˆØ±ÙƒØ³ØªØ±Ø§ Ø³ÙŠÙ…ÙÙˆÙ†ÙŠØ©"},
        {en:"chamber ensemble", ar:"ÙØ±Ù‚Ø© Ø­Ø¬Ø±Ø©"},
        {en:"string quartet", ar:"Ø±Ø¨Ø§Ø¹ÙŠ ÙˆØªØ±ÙŠ"},
        {en:"choir", ar:"Ø¬ÙˆÙ‚Ø©"},
        {en:"chorus", ar:"ÙƒÙˆØ±Ø§Ù„"},
        {en:"band", ar:"ÙØ±Ù‚Ø©"},
        {en:"brass band", ar:"ÙØ±Ù‚Ø© Ù†Ø­Ø§Ø³ÙŠØ©"},
        {en:"jazz combo", ar:"ÙƒÙˆÙ…Ø¨Ùˆ Ø¬Ø§Ø²"},
        {en:"big band", ar:"Ø¨ÙŠØº Ø¨Ø§Ù†Ø¯"},
        {en:"duet", ar:"Ø«Ù†Ø§Ø¦ÙŠ"},
        {en:"trio", ar:"Ø«Ù„Ø§Ø«ÙŠ"},
        {en:"quartet", ar:"Ø±Ø¨Ø§Ø¹ÙŠ"},
        {en:"ensemble", ar:"ÙØ±Ù‚Ø© Ù…ÙˆØ³ÙŠÙ‚ÙŠØ©"},
        {en:"solo", ar:"Ø¹Ø²Ù Ù…Ù†ÙØ±Ø¯"},
        {en:"acapella group", ar:"ÙØ±Ù‚Ø© Ø£ ÙƒØ§Ø¨ÙŠÙ„Ø§"}
      ],

      "Roles & Personnel": [
        {en:"conductor", ar:"Ù‚Ø§Ø¦Ø¯ Ø§Ù„Ø£ÙˆØ±ÙƒØ³ØªØ±Ø§"},
        {en:"composer", ar:"Ù…Ù„Ø­Ù†"},
        {en:"arranger", ar:"Ù…ÙˆØ²Ø¹ Ù…ÙˆØ³ÙŠÙ‚ÙŠ"},
        {en:"performer", ar:"Ø¹Ø§Ø²Ù / Ù…Ø¤Ø¯ÙŠ"},
        {en:"soloist", ar:"Ø¹Ø§Ø²Ù Ù…Ù†ÙØ±Ø¯"},
        {en:"session musician", ar:"Ù…ÙˆØ³ÙŠÙ‚ÙŠ Ø¬Ù„Ø³Ø§Øª"},
        {en:"producer", ar:"Ù…Ù†ØªØ¬ Ù…ÙˆØ³ÙŠÙ‚ÙŠ"},
        {en:"sound engineer", ar:"Ù…Ù‡Ù†Ø¯Ø³ ØµÙˆØª"},
        {en:"mixing engineer", ar:"Ù…Ù‡Ù†Ø¯Ø³ Ù…Ø²Ø¬"},
        {en:"mastering engineer", ar:"Ù…Ù‡Ù†Ø¯Ø³ Ù…Ø§Ø³ØªØ±"},
        {en:"music director", ar:"Ù…Ø¯ÙŠØ± Ù…ÙˆØ³ÙŠÙ‚ÙŠ"},
        {en:"orchestrator", ar:"Ù…ÙˆØ²Ø¹ Ø£ÙˆØ±ÙƒØ³ØªØ±Ø§Ù„ÙŠ"},
        {en:"copyist", ar:"Ù†Ø§Ø³Ø® Ø§Ù„Ù†ÙˆØªØ©"},
        {en:"luthier", ar:"ØµØ§Ù†Ø¹ Ø§Ù„Ø¢Ù„Ø§Øª Ø§Ù„ÙˆØªØ±ÙŠØ©"},
        {en:"roadie", ar:"Ø¹Ø§Ù…Ù„ Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ø­ÙÙ„Ø§Øª"},
        {en:"stage manager", ar:"Ù…Ø¯ÙŠØ± Ø§Ù„Ù…Ø³Ø±Ø­"},
        {en:"promoter", ar:"Ù…Ù†Ø¸Ù… Ø­ÙÙ„Ø§Øª"},
        {en:"A&R", ar:"Ù‚Ø³Ù… Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù…ÙˆØ§Ù‡Ø¨ (A&R)"},
        {en:"booking agent", ar:"ÙˆÙƒÙŠÙ„ Ø§Ù„Ø­Ø¬Ø²"},
        {en:"music teacher", ar:"Ù…Ø¯Ø±Ø³ Ù…ÙˆØ³ÙŠÙ‚Ù‰"}
      ],

      "Venues & Spaces": [
        {en:"concert hall", ar:"Ù‚Ø§Ø¹Ø© Ø­ÙÙ„Ø§Øª"},
        {en:"opera house", ar:"Ø¯Ø§Ø± Ø£ÙˆØ¨Ø±Ø§"},
        {en:"recital hall", ar:"Ù‚Ø§Ø¹Ø© Ø¹Ø²Ù ÙØ±Ø¯ÙŠ"},
        {en:"club", ar:"Ù†Ø§Ø¯ÙŠ Ù…ÙˆØ³ÙŠÙ‚ÙŠ"},
        {en:"stadium", ar:"Ø§Ø³ØªØ§Ø¯"},
        {en:"auditorium", ar:"Ù…Ø¯Ø±Ø¬ / Ù‚Ø§Ø¹Ø© Ù…Ø­Ø§Ø¶Ø±Ø§Øª"},
        {en:"studio (recording)", ar:"Ø§Ø³ØªÙˆØ¯ÙŠÙˆ ØªØ³Ø¬ÙŠÙ„"},
        {en:"rehearsal room", ar:"ØºØ±ÙØ© Ø¨Ø±ÙˆÙØ©"},
        {en:"church", ar:"ÙƒÙ†ÙŠØ³Ø© (Ù…ÙƒØ§Ù† Ø£Ø¯Ø§Ø¡)"},
        {en:"open-air stage", ar:"Ù…Ø³Ø±Ø­ Ø®Ø§Ø±Ø¬ÙŠ"},
        {en:"festival site", ar:"Ù…ÙˆÙ‚Ø¹ Ù…Ù‡Ø±Ø¬Ø§Ù†"},
        {en:"soundstage", ar:"Ù…Ø³Ø±Ø­ ØµÙˆØªÙŠ"},
        {en:"green room", ar:"ØºØ±ÙØ© Ø§Ù„Ø¶ÙŠÙˆÙ"},
        {en:"backstage", ar:"Ø®Ù„Ù Ø§Ù„Ù…Ø³Ø±Ø­"},
        {en:"foyer", ar:"Ø±Ø¯Ù‡Ø©"}
      ],

      "Recording & Production": [
        {en:"recording", ar:"ØªØ³Ø¬ÙŠÙ„"},
        {en:"tracking", ar:"ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø³Ø§Ø±Ø§Øª"},
        {en:"overdub", ar:"Ø£ÙˆÙØ±Ø¯Ø¨ (Ø¥Ø¶Ø§ÙØ© Ù…Ø³Ø§Ø±)"},
        {en:"mixing", ar:"Ù…Ø²Ø¬"},
        {en:"mastering", ar:"Ù…Ø§Ø³ØªØ±ÙŠÙ†Øº"},
        {en:"DAW (digital audio workstation)", ar:"Ù…Ø­Ø·Ø© Ø¹Ù…Ù„ ØµÙˆØªÙŠØ© Ø±Ù‚Ù…ÙŠØ©"},
        {en:"microphone", ar:"Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ†"},
        {en:"preamp", ar:"Ù…ÙƒØ¨Ø± Ù‚Ø¨Ù„ Ø§Ù„Ø¥Ø´Ø§Ø±Ø©"},
        {en:"compressor", ar:"ÙƒÙ…Ø¨Ø±ÙŠØ³ÙˆØ±"},
        {en:"EQ (equalizer)", ar:"Ù…Ø¹Ø§Ø¯Ù„ ØµÙˆØªÙŠ"},
        {en:"reverb", ar:"ØµØ¯Ù‰ / Ø±ÙŠÙÙŠØ±Ø¨"},
        {en:"delay", ar:"ØªØ£Ø®ÙŠØ±"},
        {en:"audio interface", ar:"ÙˆØ§Ø¬Ù‡Ø© ØµÙˆØªÙŠØ©"},
        {en:"monitor", ar:"Ù…Ø±Ø§Ù‚Ø¨ ØµÙˆØªÙŠ / Ø³Ù…Ø§Ø¹Ø§Øª Ø§Ø³ØªÙˆØ¯ÙŠÙˆ"},
        {en:"DI box", ar:"ØµÙ†Ø¯ÙˆÙ‚ DI"},
        {en:"pop filter", ar:"ÙÙ„ØªØ± Ø¨ÙˆØ¨"},
        {en:"isolation booth", ar:"ÙƒØ§Ø¨ÙŠÙ†Ø© Ø¹Ø²Ù„"},
        {en:"signal chain", ar:"Ø³Ù„Ø³Ù„Ø© Ø§Ù„Ø¥Ø´Ø§Ø±Ø©"},
        {en:"gain staging", ar:"ØªØ¯Ø±Ø¬ Ø§Ù„ÙƒØ³Ø¨"},
        {en:"latency", ar:"ØªØ£Ø®Ø± Ø§Ù„Ø¥Ø´Ø§Ø±Ø©"}
      ],

      "Equipment & Accessories": [
        {en:"microphone stand", ar:"Ø­Ø§Ù…Ù„ Ù…ÙŠÙƒØ±ÙˆÙÙˆÙ†"},
        {en:"music stand", ar:"Ø­Ø§Ù…Ù„ Ù†ÙˆØªØ©"},
        {en:"amp / amplifier", ar:"Ù…Ø¶Ø®Ù… ØµÙˆØª"},
        {en:"DI (direct input)", ar:"Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¨Ø§Ø´Ø±"},
        {en:"cable", ar:"ÙƒØ§Ø¨Ù„"},
        {en:"patch bay", ar:"Ù„ÙˆØ­Ø© ØªÙˆØµÙŠÙ„"},
        {en:"mixer", ar:"Ù…ÙŠÙƒØ³Ø±"},
        {en:"speaker", ar:"Ù…ÙƒØ¨Ø± ØµÙˆØª"},
        {en:"monitor speaker", ar:"Ù…ÙƒØ¨Ø± Ù…Ø±Ø§Ù‚Ø¨Ø©"},
        {en:"headphones", ar:"Ø³Ù…Ø§Ø¹Ø§Øª Ø±Ø£Ø³"},
        {en:"pedalboard", ar:"Ù„ÙˆØ­ Ø¯ÙˆØ§Ø³Ø§Øª"},
        {en:"effects pedal", ar:"Ø¯ÙˆØ§Ø³Ø© ØªØ£Ø«ÙŠØ±"},
        {en:"turntable", ar:"Ù…ØºØ²Ù„ ØªØ³Ø¬ÙŠÙ„ / ØªÙŠØ±Ù† ØªÙŠØ¨Ù„"},
        {en:"DJ controller", ar:"Ø¬Ù‡Ø§Ø² ØªØ­ÙƒÙ… DJ"},
        {en:"MIDI controller", ar:"Ù…ØªØ­ÙƒÙ… MIDI"},
        {en:"audio cable", ar:"ÙƒØ§Ø¨Ù„ ØµÙˆØª"},
        {en:"XLR", ar:"Ù…ÙˆØµÙ„ XLR"},
        {en:"jack", ar:"Ù…ÙˆØµÙ„ Ø¬Ø§Ùƒ"},
        {en:"USB audio", ar:"ØµÙˆØª Ø¹Ø¨Ø± USB"},
        {en:"power conditioner", ar:"Ù…Ù†Ø¸Ù… Ø·Ø§Ù‚Ø©"}
      ],

      "Music Education & Learning": [
        {en:"scale practice", ar:"ØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„Ù…Ù‚Ø§ÙŠÙŠØ³"},
        {en:"sight-reading", ar:"Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù†ÙˆØªØ© Ù„Ø£ÙˆÙ„ Ù…Ø±Ø©"},
        {en:"ear training", ar:"ØªØ¯Ø±ÙŠØ¨ Ø§Ù„Ø£Ø°Ù†"},
        {en:"solfÃ¨ge", ar:"Ø³ÙˆÙ„ÙÙŠØ¬"},
        {en:"method book", ar:"ÙƒØªØ§Ø¨ Ù…Ù†Ù‡Ø¬ÙŠ"},
        {en:"lesson", ar:"Ø¯Ø±Ø³"},
        {en:"masterclass", ar:"Ø­ØµØ© Ù…Ø§Ø³ØªØ± ÙƒÙ„Ø§Ø³"},
        {en:"practice room", ar:"ØºØ±ÙØ© ØªØ¯Ø±ÙŠØ¨"},
        {en:"metronome", ar:"Ù…ØªØ±ÙˆÙ†ÙˆÙ…"},
        {en:"tuner", ar:"Ù…Ø¶Ø¨Ø· Ø§Ù„Ù†ØºÙ…Ø©"},
        {en:"technique", ar:"ØªÙ‚Ù†ÙŠØ©"},
        {en:"repertoire", ar:"Ù…Ø®Ø²ÙˆÙ† Ø§Ù„Ù‚Ø·Ø¹"},
        {en:"grade exam", ar:"Ø§Ù…ØªØ­Ø§Ù† Ù…Ø³ØªÙˆÙ‰"},
        {en:"music theory", ar:"Ù†Ø¸Ø±ÙŠØ© Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰"},
        {en:"composition lesson", ar:"Ø¯Ø±Ø³ ØªØ£Ù„ÙŠÙ"},
        {en:"ensemble coaching", ar:"ØªØ¯Ø±ÙŠØ¨ Ø§Ù„ÙØ±Ù‚Ø©"},
        {en:"sight-singing", ar:"ØºÙ†Ø§Ø¡ Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ù†ÙˆØªØ©"},
        {en:"practice schedule", ar:"Ø¬Ø¯ÙˆÙ„ Ø§Ù„ØªØ¯Ø±ÙŠØ¨"},
        {en:"warm-up routine", ar:"Ø±ÙˆØªÙŠÙ† Ø§Ù„Ø¥Ø­Ù…Ø§Ø¡"},
        {en:"technique exercises", ar:"ØªÙ…Ø§Ø±ÙŠÙ† ØªÙ‚Ù†ÙŠØ©"}
      ],

      "Music Business & Industry": [
        {en:"record label", ar:"Ø´Ø±ÙƒØ© ØªØ³Ø¬ÙŠÙ„"},
        {en:"publishing", ar:"Ø§Ù„Ù†Ø§Ø´Ø± Ø§Ù„Ù…ÙˆØ³ÙŠÙ‚ÙŠ"},
        {en:"royalties", ar:"Ø¹ÙˆØ§Ø¦Ø¯ Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ù…Ù„ÙƒÙŠØ©"},
        {en:"sync licensing", ar:"ØªØ±Ø®ÙŠØµ Ø§Ù„Ù…Ø²Ø§Ù…Ù†Ø©"},
        {en:"royalty-free", ar:"Ø®Ø§Ù„ÙŠ Ù…Ù† Ø§Ù„Ø¹ÙˆØ§Ø¦Ø¯"},
        {en:"distribution", ar:"ØªÙˆØ²ÙŠØ¹"},
        {en:"streaming", ar:"Ø¨Ø«"},
        {en:"royalty statement", ar:"ÙƒØ´Ù Ø¹ÙˆØ§Ø¦Ø¯"},
        {en:"copyright", ar:"Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ø·Ø¨Ø¹ ÙˆØ§Ù„Ù†Ø´Ø±"},
        {en:"performance rights", ar:"Ø­Ù‚ÙˆÙ‚ Ø§Ù„Ø£Ø¯Ø§Ø¡"},
        {en:"mechanical rights", ar:"Ø­Ù‚ÙˆÙ‚ Ù…ÙŠÙƒØ§Ù†ÙŠÙƒÙŠØ©"},
        {en:"publishing deal", ar:"ØµÙÙ‚Ø© Ù†Ø´Ø±"},
        {en:"management", ar:"Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ÙÙ†Ø§Ù†"},
        {en:"booking", ar:"Ø­Ø¬Ø² Ø§Ù„Ø­ÙÙ„Ø§Øª"},
        {en:"merchandise", ar:"Ø¨Ø¶Ø§Ø¦Ø¹ ÙÙ†ÙŠØ©"},
        {en:"touring", ar:"Ø¬ÙˆÙ„Ø© ÙÙ†ÙŠØ©"},
        {en:"press kit", ar:"Ø­Ø²Ù…Ø© ØµØ­ÙÙŠØ©"},
        {en:"royalty collection society", ar:"Ø¬Ù…Ø¹ÙŠØ© ØªØ­ØµÙŠÙ„ Ø§Ù„Ø¹ÙˆØ§Ø¦Ø¯"},
        {en:"A&R", ar:"Ø§ÙƒØªØ´Ø§Ù Ø§Ù„Ù…ÙˆØ§Ù‡Ø¨ (A&R)"},
        {en:"sync agent", ar:"ÙˆÙƒÙŠÙ„ Ù…Ø²Ø§Ù…Ù†Ø©"}
      ],

      "Music Technology & Software": [
        {en:"DAW", ar:"Ù…Ø­Ø·Ø© Ø¹Ù…Ù„ ØµÙˆØªÙŠØ© Ø±Ù‚Ù…ÙŠØ©"},
        {en:"plugin", ar:"Ù…ÙƒÙˆÙ‘Ù† Ø¥Ø¶Ø§ÙÙŠ"},
        {en:"VST", ar:"ÙˆØ§Ø¬Ù‡Ø© ØµÙˆØª Ø§ÙØªØ±Ø§Ø¶ÙŠØ© (VST)"},
        {en:"virtual instrument", ar:"Ø¢Ù„Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ©"},
        {en:"sample library", ar:"Ù…ÙƒØªØ¨Ø© Ø¹ÙŠÙ†Ø§Øª"},
        {en:"MIDI", ar:"Ø¨Ø±ÙˆØªÙˆÙƒÙˆÙ„ MIDI"},
        {en:"audio interface", ar:"ÙˆØ§Ø¬Ù‡Ø© ØµÙˆØª"},
        {en:"audio engine", ar:"Ù…Ø­Ø±Ùƒ ØµÙˆØª"},
        {en:"synthesis", ar:"ØªÙˆÙ„ÙŠØ¯ ØµÙˆØªÙŠ"},
        {en:"sampling", ar:"Ø£Ø®Ø° Ø¹ÙŠÙ†Ø§Øª"},
        {en:"granular synthesis", ar:"ØªÙˆÙ„ÙŠØ¯ Ø­Ø¨ÙŠØ¨ÙŠ"},
        {en:"wavetable", ar:"Ù…ÙˆØ¬Ø© Ø¬Ø¯ÙˆÙ„"},
        {en:"automation", ar:"Ø£ØªÙ…ØªØ©"},
        {en:"routing", ar:"ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„Ø¥Ø´Ø§Ø±Ø©"},
        {en:"sidechain", ar:"Ø³Ø§ÙŠØ¯ ØªØ´Ø§ÙŠÙ†"},
        {en:"latency compensation", ar:"ØªØ¹ÙˆÙŠØ¶ Ø§Ù„ØªØ£Ø®Ø±"},
        {en:"audio codec", ar:"ØªØ±Ù…ÙŠØ² ØµÙˆØªÙŠ"},
        {en:"bit depth", ar:"Ø¹Ù…Ù‚ Ø§Ù„Ø¨Øª"},
        {en:"sample rate", ar:"Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¹ÙŠÙ†Ø©"},
        {en:"render / bounce", ar:"ØªØµØ¯ÙŠØ± / Ø¨ÙˆÙ†Ø³"}
      ],

      "Historical Periods & Styles": [
        {en:"medieval", ar:"Ø¹ØµÙˆØ± ÙˆØ³Ø·Ù‰"},
        {en:"renaissance", ar:"Ø¹ØµØ± Ø§Ù„Ù†Ù‡Ø¶Ø©"},
        {en:"baroque", ar:"Ø¨Ø§Ø±ÙˆÙƒ"},
        {en:"classical period", ar:"Ø§Ù„Ø¹ØµØ± Ø§Ù„ÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ"},
        {en:"romantic period", ar:"Ø§Ù„Ø¹ØµØ± Ø§Ù„Ø±ÙˆÙ…Ø§Ù†Ø³ÙŠ"},
        {en:"20th century", ar:"Ø§Ù„Ù‚Ø±Ù† Ø§Ù„Ø¹Ø´Ø±ÙˆÙ†"},
        {en:"contemporary", ar:"Ù…Ø¹Ø§ØµØ±"},
        {en:"early music", ar:"Ù…ÙˆØ³ÙŠÙ‚Ù‰ Ù…Ø¨ÙƒØ±Ø©"},
        {en:"minimalism", ar:"Ù…ÙŠÙ†ÙŠÙ…Ø§Ù„ÙŠØ©"},
        {en:"serialism", ar:"Ø³ÙŠØ±ÙŠØ§Ù„ÙŠØ©"},
        {en:"impressionism", ar:"Ø§Ù†Ø·Ø¨Ø§Ø¹ÙŠØ©"},
        {en:"avant-garde", ar:"Ø·Ù„ÙŠØ¹ÙŠ"},
        {en:"neoclassical", ar:"Ù†ÙŠÙˆÙƒÙ„Ø§Ø³ÙŠÙƒÙŠ"},
        {en:"electroacoustic", ar:"ÙƒÙ‡Ø±Ø¨Ùˆ-ØµÙˆØªÙŠ"},
        {en:"fusion", ar:"ÙÙŠØ¬Ù† / Ø¯Ù…Ø¬ Ø§Ù„Ø£Ù†Ù…Ø§Ø·"}
      ],

      "Dance & Movement": [
        {en:"ballet", ar:"Ø¨Ø§Ù„ÙŠÙ‡"},
        {en:"tap dance", ar:"Ø±Ù‚Øµ ØªØ§Ø¨"},
        {en:"contemporary dance", ar:"Ø±Ù‚Øµ Ù…Ø¹Ø§ØµØ±"},
        {en:"ballroom", ar:"Ø±Ù‚Øµ Ù‚Ø§Ø¹Ø©"},
        {en:"salsa", ar:"Ø³Ø§Ù„Ø³Ø§"},
        {en:"tango", ar:"ØªØ§Ù†ØºÙˆ"},
        {en:"choreography", ar:"ØªØµÙ…ÙŠÙ… Ø±Ù‚Øµ"},
        {en:"rhythm", ar:"Ø¥ÙŠÙ‚Ø§Ø¹"},
        {en:"beat", ar:"Ù†Ø¨Ø¶Ø©"},
        {en:"tempo", ar:"Ø³Ø±Ø¹Ø© Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¹"},
        {en:"movement", ar:"Ø­Ø±ÙƒØ©"},
        {en:"improvisation", ar:"Ø§Ø±ØªØ¬Ø§Ù„"},
        {en:"partnering", ar:"Ø´Ø±Ø§ÙƒØ© Ø±Ù‚Øµ"},
        {en:"floorwork", ar:"Ø¹Ù…Ù„ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø±Ø¶"},
        {en:"stage blocking", ar:"ØªØ­Ø¯ÙŠØ¯ Ù…ÙˆØ§Ù‚Ø¹ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø±Ø­"}
      ],

      "Accessories & Maintenance": [
        {en:"metronome", ar:"Ù…ØªØ±ÙˆÙ†ÙˆÙ…"},
        {en:"tuner", ar:"Ù…Ø¶Ø¨Ø· Ø§Ù„Ù†ØºÙ…Ø©"},
        {en:"rosin", ar:"Ø±ÙˆØ²ÙŠÙ† (Ù„ÙƒÙ…Ø§Ù†)"},
        {en:"strings", ar:"Ø£ÙˆØªØ§Ø±"},
        {en:"reeds", ar:"Ù‚ØµØ¨ (Ø±ÙŠÙŠØ¯)"},
        {en:"cleaning cloth", ar:"Ù‚Ù…Ø§Ø´ ØªÙ†Ø¸ÙŠÙ"},
        {en:"case", ar:"Ø­Ù‚ÙŠØ¨Ø© Ø§Ù„Ø¢Ù„Ø©"},
        {en:"strap", ar:"Ø­Ø²Ø§Ù…"},
        {en:"capo", ar:"ÙƒØ§Ø¨Ùˆ"},
        {en:"pick / plectrum", ar:"Ø±ÙŠØ´Ø© Ø§Ù„Ø¹Ø²Ù"},
        {en:"slide (guitar)", ar:"Ø³Ù„Ø§ÙŠØ¯"},
        {en:"bridge pin", ar:"Ø¯Ø¨ÙˆØ³ Ø§Ù„Ø¬Ø³Ø±"},
        {en:"guitar tuner", ar:"Ù…Ø¶Ø¨Ø· ØºÙŠØªØ§Ø±"},
        {en:"humidifier (instrument)", ar:"Ù…Ø±Ø·Ø¨ Ù„Ù„Ø¢Ù„Ø©"},
        {en:"polish", ar:"Ù…Ù„Ù…Ø¹"},
        {en:"maintenance kit", ar:"Ø¹Ø¯Ø© ØµÙŠØ§Ù†Ø©"},
        {en:"string winder", ar:"Ù„ÙØ§ÙØ© Ø£ÙˆØªØ§Ø±"},
        {en:"capo", ar:"ÙƒØ§Ø¨Ùˆ"},
        {en:"mute", ar:"Ù…ÙŠÙˆØª"},
        {en:"pickup", ar:"Ø¨ÙŠÙƒ Ø£Ø¨ (Ø§Ù„ØªÙ‚Ø§Ø· ØµÙˆØª)"}
      ]
    };

    // UI elements
    const categoriesEl = document.getElementById('categories');
    const accentEl = document.getElementById('accent');
    const searchEl = document.getElementById('search');
    const normalBtn = document.getElementById('normalBtn');
    const denseBtn = document.getElementById('denseBtn');
    const appEl = document.getElementById('app');

    function createItem(obj) {
      const item = document.createElement('div');
      item.className = 'item';
      item.setAttribute('role','listitem');

      const left = document.createElement('div');
      left.style.display = 'flex';
      left.style.flexDirection = 'column';

      const word = document.createElement('span');
      word.className = 'word';
      word.textContent = obj.en;

      const trans = document.createElement('span');
      trans.className = 'translation';
      trans.textContent = obj.ar;

      left.appendChild(word);
      left.appendChild(trans);

      const btn = document.createElement('button');
      btn.className = 'speak-btn';
      btn.type = 'button';
      btn.setAttribute('aria-label', `Speak ${obj.en}`);
      btn.innerHTML = 'ðŸ”Š';

      btn.addEventListener('click', () => speak(obj.en));

      item.appendChild(left);
      item.appendChild(btn);
      return item;
    }

    function renderCategories(filterText = '') {
      categoriesEl.innerHTML = '';
      const q = filterText.trim().toLowerCase();

      Object.entries(DATA).forEach(([category, items]) => {
        const filtered = q ? items.filter(it => it.en.toLowerCase().includes(q) || it.ar.toLowerCase().includes(q)) : items;
        if (filtered.length === 0) return;

        const section = document.createElement('section');
        section.className = 'category';
        section.setAttribute('aria-label', category);

        const header = document.createElement('div');
        header.className = 'category-header';

        const title = document.createElement('div');
        title.className = 'category-title';
        title.textContent = category;

        const chip = document.createElement('div');
        chip.className = 'chip';
        chip.textContent = `${filtered.length} items`;

        header.appendChild(title);
        header.appendChild(chip);

        const grid = document.createElement('div');
        grid.className = 'grid';
        grid.setAttribute('role','list');

        filtered.forEach(obj => grid.appendChild(createItem(obj)));

        section.appendChild(header);
        section.appendChild(grid);
        categoriesEl.appendChild(section);
      });
    }

    function speak(text) {
      if (!('speechSynthesis' in window)) {
        alert('Speech synthesis not supported in this browser.');
        return;
      }
      const utter = new SpeechSynthesisUtterance(text);
      utter.lang = accentEl.value;

      const voices = window.speechSynthesis.getVoices();
      const preferred = voices.find(v => v.lang === accentEl.value) || voices.find(v => v.lang.startsWith(accentEl.value.split('-')[0]));
      if (preferred) utter.voice = preferred;

      utter.rate = 0.95;
      utter.pitch = 1.0;

      window.speechSynthesis.cancel();
      window.speechSynthesis.speak(utter);
    }

    normalBtn.addEventListener('click', () => {
      appEl.classList.remove('dense');
      renderCategories(searchEl.value);
    });
    denseBtn.addEventListener('click', () => {
      appEl.classList.add('dense');
      renderCategories(searchEl.value);
    });

    searchEl.addEventListener('input', () => renderCategories(searchEl.value));

    // initial render
    renderCategories();

    window.speechSynthesis.onvoiceschanged = () => { /* no-op */ };

    searchEl.addEventListener('keydown', (e) => {
      if (e.key === 'Enter') {
        const firstBtn = document.querySelector('.speak-btn');
        if (firstBtn) firstBtn.focus();
      }
    });
  </script>
</body>
</html>
